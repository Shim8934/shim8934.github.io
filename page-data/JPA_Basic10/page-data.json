{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/JPA_Basic10/",
    "result": {"data":{"cur":{"id":"b0bac9d2-c3df-5133-a995-c584d5208cdc","html":"<h2 id=\"jpql\" style=\"position:relative;\"><a href=\"#jpql\" aria-label=\"jpql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JPQL</h2>\n<ol>\n<li>프로젝션</li>\n<li>페이징</li>\n<li>조인</li>\n<li>서브 쿼리</li>\n<li>JPQL 타입 표현</li>\n<li>조건식</li>\n<li>기본 함수와 사용자 정의 함수</li>\n</ol>\n<hr>\n<h3 id=\"1-프로젝션\" style=\"position:relative;\"><a href=\"#1-%ED%94%84%EB%A1%9C%EC%A0%9D%EC%85%98\" aria-label=\"1 프로젝션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. 프로젝션</h3>\n<ul>\n<li>SELECT 절에 조회할 <strong>대상을 지정</strong>하는 것.</li>\n</ul>\n<h4 id=\"1-대상\" style=\"position:relative;\"><a href=\"#1-%EB%8C%80%EC%83%81\" aria-label=\"1 대상 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 대상</h4>\n<table>\n<thead>\n<tr>\n<th>타입</th>\n<th>예시</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>엔티티 프로젝션</td>\n<td>SELECT m FROM Member m</td>\n</tr>\n<tr>\n<td></td>\n<td>SELECT m.team FROM Member m</td>\n</tr>\n<tr>\n<td>임베디드 타입 프로젝션</td>\n<td>SELECT m.address FROM Member m</td>\n</tr>\n<tr>\n<td>스칼라 타입 프로젝션 (기본 데이터 타입)</td>\n<td>SELECT m.username, m.age FROM Member m</td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"2-여러-타입-값-조회\" style=\"position:relative;\"><a href=\"#2-%EC%97%AC%EB%9F%AC-%ED%83%80%EC%9E%85-%EA%B0%92-%EC%A1%B0%ED%9A%8C\" aria-label=\"2 여러 타입 값 조회 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 여러 타입 값 조회</h4>\n<ol>\n<li>Query 타입</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Query</span> query <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT m.username, m.age from Member m\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">List</span> resultList <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">Object</span> o <span class=\"token operator\">=</span> resultList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> result <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> o<span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"result = \"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"result = \"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>Query는 Object를 반환하기에 타입 캐스팅이 필요하다.</li>\n</ul>\n<ol start=\"2\">\n<li>Object[] 타입</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token operator\">&lt;</span><span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">></span> resultList <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT m.username, m.age from Member m\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">Object</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> result <span class=\"token operator\">=</span> resultList<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"result = \"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"result = \"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>위의 Query 타입을 앞서 타입캐스팅하는 것과 동일한 이치로 보면 된다.</li>\n</ul>\n<ol start=\"3\">\n<li>new 명령어 조회</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// MemberDTO.java</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MemberDTO</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> username<span class=\"token punctuation\">;</span>\r\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">MemberDTO</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> username<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> username<span class=\"token punctuation\">;</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getUsername</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> username<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setUsername</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> username<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> username<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">return</span> age<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n\r\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\r\n    <span class=\"token punctuation\">}</span>\r\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">MemberDTO</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SELECT new jpql.MemberDTO(m.username,m.age) from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">MemberDTO</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">MemberDTO</span> memberDTO <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberDTO.username = \"</span> <span class=\"token operator\">+</span> memberDTO<span class=\"token punctuation\">.</span><span class=\"token function\">getUsername</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"memberDTO.age = \"</span> <span class=\"token operator\">+</span> memberDTO<span class=\"token punctuation\">.</span><span class=\"token function\">getAge</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>위와 같이 DTO로 조회 결과를 SQL문에서 매핑하는 것이 가능하다.</li>\n<li>new 생성자로 매핑 시, 패키지 명을 모두 써야하는 것이 눈여겨 봐야하는 점이다. 이 과정은 꽤 불편하기에 단축하는 과정이 있다. ( 추후 학습 )</li>\n</ul>\n<hr>\n<h3 id=\"2-페이징-api\" style=\"position:relative;\"><a href=\"#2-%ED%8E%98%EC%9D%B4%EC%A7%95-api\" aria-label=\"2 페이징 api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 페이징 API</h3>\n<ul>\n<li>2가지 API로 추상화.\n<ol>\n<li>setFirstResult(int startPosition) : 조회 시작 위치</li>\n<li>setMaxResults(int maxResult) : 조회할 데이터 수</li>\n</ol>\n</li>\n</ul>\n<hr>\n<h3 id=\"3-조인\" style=\"position:relative;\"><a href=\"#3-%EC%A1%B0%EC%9D%B8\" aria-label=\"3 조인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 조인</h3>\n<ul>\n<li>동작 방식은 DB와 동일하다.</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>DB</th>\n<th>JPA</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Inner Join</td>\n<td>내부 조인</td>\n</tr>\n<tr>\n<td>Outer Join</td>\n<td>외부 조인</td>\n</tr>\n<tr>\n<td></td>\n<td>세타 조인 (속칭: 막조인)</td>\n</tr>\n</tbody>\n</table>\n<ul>\n<li>세타 조인 예시</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">Team</span> team <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nteam<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"teamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nem<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmember<span class=\"token punctuation\">.</span><span class=\"token function\">setUsername</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"teamA\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmember<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmember<span class=\"token punctuation\">.</span><span class=\"token function\">setTeam</span><span class=\"token punctuation\">(</span>team<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nem<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\nem<span class=\"token punctuation\">.</span><span class=\"token function\">flush</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nem<span class=\"token punctuation\">.</span><span class=\"token function\">clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">String</span> query <span class=\"token operator\">=</span> <span class=\"token string\">\"select m from Member m, Team t where m.username = t.name\"</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> result <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span>query<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\r\n                            <span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"result = \"</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>\n<p>위에서 유심히 봐야할 것은 쿼리문이다.</p>\n</li>\n<li>\n<p>실행결과</p>\n</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 382px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 110.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAWABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHly6swCggP/8QAFhAAAwAAAAAAAAAAAAAAAAAAARAg/9oACAEBAAEFAmK//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFBABAAAAAAAAAAAAAAAAAAAAMP/aAAgBAQAGPwIf/8QAFhABAQEAAAAAAAAAAAAAAAAAEDFB/9oACAEBAAE/IcaY/wD/2gAMAwEAAgADAAAAEKTYQf/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB4QAAEDBAMAAAAAAAAAAAAAAAEAEUEQITGRUWGB/9oACAEBAAE/ELm87qcsJw0jzCID2LppzwiQZOkel//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"obj01\"\n        title=\"obj01\"\n        src=\"/static/459b8649010519e808a63ca467d2df9e/77eb6/obj01.jpg\"\n        srcset=\"/static/459b8649010519e808a63ca467d2df9e/4ec73/obj01.jpg 180w,\n/static/459b8649010519e808a63ca467d2df9e/158ba/obj01.jpg 360w,\n/static/459b8649010519e808a63ca467d2df9e/77eb6/obj01.jpg 382w\"\n        sizes=\"(max-width: 382px) 100vw, 382px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h4 id=\"-jpa-조인-특징\" style=\"position:relative;\"><a href=\"#-jpa-%EC%A1%B0%EC%9D%B8-%ED%8A%B9%EC%A7%95\" aria-label=\" jpa 조인 특징 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>* JPA 조인 특징</h4>\n<ol>\n<li>\n<p>조인 대상 필터링</p>\n<ul>\n<li>\n<p>ex) 회원과 팀을 조인하면서, 팀 이름이 A인 팀만 조인 가능. ( 아래 두 쿼리 확인 )</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\"># SQL</span>\r\n<span class=\"token keyword\">SELECT</span> m<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Member m <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> Team t <span class=\"token keyword\">ON</span> m<span class=\"token punctuation\">.</span>TEAM_ID<span class=\"token operator\">=</span>t<span class=\"token punctuation\">.</span>id <span class=\"token operator\">and</span> t<span class=\"token punctuation\">.</span>name<span class=\"token operator\">=</span><span class=\"token string\">'A'</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// JPQL</span>\r\n<span class=\"token class-name\">SELECT</span> m<span class=\"token punctuation\">,</span> t FROM <span class=\"token class-name\">Member</span> m LEFT JOIN m<span class=\"token punctuation\">.</span>team t on t<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'A'</span></code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>연관 관계 없는 엔티티 외부 조인</p>\n<ul>\n<li>\n<p>회원의 이름과 팀의 이름이 같은 대상 외부 조인</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token comment\"># sql</span>\r\n<span class=\"token keyword\">SELECT</span> m<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span><span class=\"token punctuation\">,</span> t<span class=\"token punctuation\">.</span><span class=\"token operator\">*</span> <span class=\"token keyword\">FROM</span> Member m <span class=\"token keyword\">LEFT</span> <span class=\"token keyword\">JOIN</span> Team t <span class=\"token keyword\">ON</span> m<span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>name</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// java</span>\r\n<span class=\"token class-name\">SELECT</span> m<span class=\"token punctuation\">,</span> t FROM <span class=\"token class-name\">Member</span> m LEFT JOIN <span class=\"token class-name\">Team</span> t on m<span class=\"token punctuation\">.</span>username <span class=\"token operator\">=</span> t<span class=\"token punctuation\">.</span>name</code></pre></div>\n</li>\n</ul>\n</li>\n</ol>\n<hr>\n<h3 id=\"4-서브-쿼리\" style=\"position:relative;\"><a href=\"#4-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC\" aria-label=\"4 서브 쿼리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. 서브 쿼리</h3>\n<ul>\n<li>일반적인 SQL에서의 서브 쿼리와 동일.</li>\n</ul>\n<h4 id=\"1-서브-쿼리-지원-함수\" style=\"position:relative;\"><a href=\"#1-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC-%EC%A7%80%EC%9B%90-%ED%95%A8%EC%88%98\" aria-label=\"1 서브 쿼리 지원 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 서브 쿼리 지원 함수</h4>\n<table>\n<thead>\n<tr>\n<th>함수</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1. [ NOT ] EXISTS (subquery)</td>\n<td>서브 쿼리에 결과가 존재하면 참</td>\n</tr>\n<tr>\n<td>2. { ALL | ANY | SOME } (subquery)</td>\n<td>1. ALL - 모두 만족하면 참<br />2. ANY, SOME - 같은 의미, 조건을 하나라도 만족하면 참</td>\n</tr>\n<tr>\n<td>3. [ NOT ] IN (subquery)</td>\n<td>서브 쿼리의 결과 중 하나라도 같은 것이 있으면 참</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h4 id=\"2-지원-함수-예제\" style=\"position:relative;\"><a href=\"#2-%EC%A7%80%EC%9B%90-%ED%95%A8%EC%88%98-%EC%98%88%EC%A0%9C\" aria-label=\"2 지원 함수 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 지원 함수 예제</h4>\n<ol>\n<li>\n<p>[ NOT ] EXISTS (subquery)</p>\n<ul>\n<li>팀 A 소속인 회원</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select m from <span class=\"token class-name\">Member</span> m\r\n\twhere exists <span class=\"token punctuation\">(</span>select t from m<span class=\"token punctuation\">.</span>team t where t<span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> <span class=\"token string\">'팀A'</span><span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n<li>\n<p>{ ALL | ANY | SOME } (subquery)</p>\n<ul>\n<li>전체 상품 각각의 재고보다 주문량이 많은 주문들</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select o from <span class=\"token class-name\">Order</span> o\r\n\twhere o<span class=\"token punctuation\">.</span>orderAmount <span class=\"token operator\">></span> ALL <span class=\"token punctuation\">(</span>select p<span class=\"token punctuation\">.</span>stockAmount from <span class=\"token class-name\">Product</span> p<span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>어떤 팀이든 팀에 소속된 회원</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select m from <span class=\"token class-name\">Member</span> m\r\n\twhere m<span class=\"token punctuation\">.</span>team <span class=\"token operator\">=</span> ANY <span class=\"token punctuation\">(</span>select t from <span class=\"token class-name\">Team</span> t<span class=\"token punctuation\">)</span></code></pre></div>\n</li>\n</ol>\n<hr>\n<h4 id=\"3-jpa-서브-쿼리-한계\" style=\"position:relative;\"><a href=\"#3-jpa-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC-%ED%95%9C%EA%B3%84\" aria-label=\"3 jpa 서브 쿼리 한계 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) JPA 서브 쿼리 한계</h4>\n<ol>\n<li>WHERE, HAVING 절에만 서브 쿼리 사용 가능</li>\n<li><strong>FROM 절의 서브 쿼리는 JPQL에서 불가능</strong> → 조인으로 풀 수 있으면 풀어서 해결!</li>\n</ol>\n<hr>\n<h3 id=\"5--jpql-타입-표현\" style=\"position:relative;\"><a href=\"#5--jpql-%ED%83%80%EC%9E%85-%ED%91%9C%ED%98%84\" aria-label=\"5  jpql 타입 표현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5.  JPQL 타입 표현</h3>\n<ol>\n<li>\n<p>문자: ‘JPA’</p>\n</li>\n<li>\n<p>숫자: 10L (Long), 10D (Double), 10F (Float)</p>\n</li>\n<li>\n<p>Boolean: TRUE, FALSE</p>\n</li>\n<li>\n<p>ENUM</p>\n<ol>\n<li>SQL 쿼리에 하드코딩 하는 경우\n<ul>\n<li>사용하려는 ENUM 타입의 패키지명 포함 + 변수 (ex - jpabook.MemberType.Admin)</li>\n</ul>\n</li>\n<li>변수 파라미터로 바인딩 하는 경우\n<ul>\n<li>일반적인 타입으로 바인딩하는 것과 동일.</li>\n</ul>\n</li>\n</ol>\n</li>\n<li>\n<p>엔티티 타입: TYPE(m) = Member (상속 관계에서 사용)</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select i from <span class=\"token class-name\">Item</span> i\r\n    where <span class=\"token function\">type</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> BOOK</code></pre></div>\n</li>\n<li>\n<p>기타 표현식</p>\n<ol>\n<li>SQL과 문법이 같은 식</li>\n<li>BETWEEN, LIKE, IS NULL</li>\n<li>EXISTS, IN</li>\n<li>AND, OR, NOT</li>\n<li>=, >, >=, &#x3C;, &#x3C;=, &#x3C;></li>\n</ol>\n</li>\n</ol>\n<hr>\n<h3 id=\"6-조건식\" style=\"position:relative;\"><a href=\"#6-%EC%A1%B0%EA%B1%B4%EC%8B%9D\" aria-label=\"6 조건식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. 조건식</h3>\n<ol>\n<li>\n<p>기본 CASE</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select\r\n <span class=\"token keyword\">case</span> when m<span class=\"token punctuation\">.</span>age <span class=\"token operator\">&lt;=</span> <span class=\"token number\">10</span> then <span class=\"token string\">'학생요금'</span>\r\n\t  when m<span class=\"token punctuation\">.</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">60</span> then <span class=\"token string\">'경로요금'</span>\r\n\t  <span class=\"token keyword\">else</span> <span class=\"token string\">'일반요금'</span>\r\n end\r\nfrom <span class=\"token class-name\">Member</span> m</code></pre></div>\n</li>\n<li>\n<p>COALESCE - 하나씩 조회해서 Null 이 아니면 반환</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select <span class=\"token function\">coalesce</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span><span class=\"token string\">'이름 없는 회원'</span><span class=\"token punctuation\">)</span> from <span class=\"token class-name\">Member</span> m</code></pre></div>\n</li>\n<li>\n<p>NULLIF - 두 값이 같으면 Null 반환, 다르면 첫번째 값 반환</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">select <span class=\"token function\">NULLIF</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">.</span>username<span class=\"token punctuation\">,</span> <span class=\"token string\">'관리자'</span><span class=\"token punctuation\">)</span> from <span class=\"token class-name\">Member</span> m</code></pre></div>\n</li>\n</ol>\n<hr>\n<h3 id=\"7-기본-함수와-사용자-정의-함수\" style=\"position:relative;\"><a href=\"#7-%EA%B8%B0%EB%B3%B8-%ED%95%A8%EC%88%98%EC%99%80-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EC%9D%98-%ED%95%A8%EC%88%98\" aria-label=\"7 기본 함수와 사용자 정의 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>7. 기본 함수와 사용자 정의 함수</h3>\n<ol>\n<li>\n<p>기본함수</p>\n<table>\n<thead>\n<tr>\n<th>종류</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>CONCAT</td>\n</tr>\n<tr>\n<td>SUBSTRING</td>\n</tr>\n<tr>\n<td>TRIM</td>\n</tr>\n<tr>\n<td>LOWER, UPPER</td>\n</tr>\n<tr>\n<td>LENGTH</td>\n</tr>\n<tr>\n<td>LOCATE</td>\n</tr>\n<tr>\n<td>ABS, SQRT, MOD</td>\n</tr>\n<tr>\n<td>SIZE, INDEX(JPA 용도)</td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p>사용자 정의 함수</p>\n<ul>\n<li>사용하는 DB 방언을 상속 받고, 사용자 정의 함수를 등록한다.</li>\n</ul>\n</li>\n</ol>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#jpql\">JPQL</a></p>\n<ul>\n<li>\n<p><a href=\"#1-%ED%94%84%EB%A1%9C%EC%A0%9D%EC%85%98\">1. 프로젝션</a></p>\n<ul>\n<li><a href=\"#1-%EB%8C%80%EC%83%81\">1) 대상</a></li>\n<li><a href=\"#2-%EC%97%AC%EB%9F%AC-%ED%83%80%EC%9E%85-%EA%B0%92-%EC%A1%B0%ED%9A%8C\">2) 여러 타입 값 조회</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#2-%ED%8E%98%EC%9D%B4%EC%A7%95-api\">2. 페이징 API</a></p>\n</li>\n<li>\n<p><a href=\"#3-%EC%A1%B0%EC%9D%B8\">3. 조인</a></p>\n<ul>\n<li><a href=\"#-jpa-%EC%A1%B0%EC%9D%B8-%ED%8A%B9%EC%A7%95\">* JPA 조인 특징</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#4-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC\">4. 서브 쿼리</a></p>\n<ul>\n<li><a href=\"#1-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC-%EC%A7%80%EC%9B%90-%ED%95%A8%EC%88%98\">1) 서브 쿼리 지원 함수</a></li>\n<li><a href=\"#2-%EC%A7%80%EC%9B%90-%ED%95%A8%EC%88%98-%EC%98%88%EC%A0%9C\">2) 지원 함수 예제</a></li>\n<li><a href=\"#3-jpa-%EC%84%9C%EB%B8%8C-%EC%BF%BC%EB%A6%AC-%ED%95%9C%EA%B3%84\">3) JPA 서브 쿼리 한계</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#5--jpql-%ED%83%80%EC%9E%85-%ED%91%9C%ED%98%84\">5.  JPQL 타입 표현</a></p>\n</li>\n<li>\n<p><a href=\"#6-%EC%A1%B0%EA%B1%B4%EC%8B%9D\">6. 조건식</a></p>\n</li>\n<li>\n<p><a href=\"#7-%EA%B8%B0%EB%B3%B8-%ED%95%A8%EC%88%98%EC%99%80-%EC%82%AC%EC%9A%A9%EC%9E%90-%EC%A0%95%EC%9D%98-%ED%95%A8%EC%88%98\">7. 기본 함수와 사용자 정의 함수</a></p>\n</li>\n</ul>\n</li>\n</ul>\n</div>","excerpt":"JPQL 프로젝션 페이징 조인 서브 쿼리 JPQL 타입 표현 조건식 기본 함수와 사용자 정의 함수 1. 프로젝션 SELECT 절에 조회할 대상을 지정하는 것. 1) 대상 타입 예시 엔티티 프로젝션 SELECT m FROM Member m  SELECT m.team FROM Member m 임베디드 타입 프로젝션 SELECT m.address FROM Member m 스칼라 타입 프로젝션 (기본 데이터 타입) SELECT m.username, m.age FROM Member m 2) 여러 타입 값 조회 Query 타입 Query는 Object를 반환하기에 타입 캐스팅이 필요하다. Object[] 타입 위의 Query 타입을 앞서 타입캐스팅하는 것과 동일한 이치로 보면 된다. new 명령어 조회 위와 같이 DTO로 조회 결과를 SQL문에서 매핑하는 것이 가능하다. new 생성자로 매핑 시, 패키지 명을 모두 써야하는 것이 눈여겨 봐야하는 점이다. 이 과정은 꽤 불편하기에 단축하는 과정…","frontmatter":{"date":"January 17, 2022","title":"JPA 기본 강의 정리 - 10. JPQL 정리_02","categories":"JPA_Basic","author":"shim8934","emoji":"😄"},"fields":{"slug":"/JPA_Basic10/"}},"next":{"id":"b8a69ecc-31e1-5893-b11a-46fc76719e13","html":"<h2 id=\"jpql\" style=\"position:relative;\"><a href=\"#jpql\" aria-label=\"jpql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JPQL</h2>\n<h3 id=\"1-jpa에서-sql을-사용할-수-있는-방법\" style=\"position:relative;\"><a href=\"#1-jpa%EC%97%90%EC%84%9C-sql%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"1 jpa에서 sql을 사용할 수 있는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. JPA에서 SQL을 사용할 수 있는 방법</h3>\n<table>\n<thead>\n<tr>\n<th>방법</th>\n<th>설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1. <strong>JPQL</strong></td>\n<td>* 가장 단순한 조회 방법<br />* 엔티티 객체를 중심으로 개발<br />* 문제는 검색할 때이며, 테이블이 아닌 엔티티 객체를 대상으로 검색.</td>\n</tr>\n<tr>\n<td>2. Criteria</td>\n<td>* 자바 코드로 JPQL을 작성할 수 있다.<br />* JPA 공식 기능<br />* 단, 너무 복잡하고 실용성이 없다.</td>\n</tr>\n<tr>\n<td>3. <strong>QueryDSL</strong></td>\n<td>* 컴파일 시점에 문법 오류를 찾을 수 있다.<br />* 동적 쿼리 작성 편리하며, 단순하고 쉽다.<br />* <b>실무 사용 권장</b></td>\n</tr>\n<tr>\n<td>4. Native SQL</td>\n<td>* JPA가 제공하는 SQL을 직접 사용하는 기능.<br />* JPQL로 해결할 수 없는 특정 DB의 의존적인 기능 사용 가능<br />  ex) 오라클 Connect By, 특정 DB만 사용하는 SQL 힌트</td>\n</tr>\n<tr>\n<td>번외 - JDBC API, MyBatis, SpringJDBCTemplate</td>\n<td>* JPA를 사용하면서 기존의 JDBC, MyBatis, SpringJDBCTemplate 등을 함께 사용 가능하다.<br />* 단, 영속성 컨텍스트를 적절한 시점에 강제로 플러시해야한다.<br />  ex) JPA를 우회해서 SQL을 실행하기 직전에 영속성 컨텍스트 수동 플러시</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<h3 id=\"2-jpql\" style=\"position:relative;\"><a href=\"#2-jpql\" aria-label=\"2 jpql permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. JPQL</h3>\n<ul>\n<li>객체 지향 쿼리 언어. 단, 테이블을 대상으로 쿼리하는 것이 아닌 <strong>엔티티 객체를 대상으로 쿼리</strong>한다.</li>\n</ul>\n<h4 id=\"1-기본-사용-예시\" style=\"position:relative;\"><a href=\"#1-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\" aria-label=\"1 기본 사용 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 기본 사용 예시</h4>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// Main.java</span>\r\n<span class=\"token class-name\">Member</span> member <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmember<span class=\"token punctuation\">.</span><span class=\"token function\">setUsername</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nmember<span class=\"token punctuation\">.</span><span class=\"token function\">setAge</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nem<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">TypedQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> query <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol>\n<li>별칭 필수 (위의 Member m). as는 생략 가능.</li>\n<li>테이블 이름이 아닌 <strong>엔티티 이름을 사용</strong>한다. - 위의 Member는 테이블 Member가 아닌 Class Member(즉, 엔티티)를 호출하는 것이다.</li>\n<li>엔티티와 속성은 대소문자 구분 O (Member, age 등등)  /  JPQL 키워드는 대소문자 구분 X (SELECT, FROM, where)</li>\n</ol>\n<hr>\n<h4 id=\"2-반환-타입과-파라미터-바인딩\" style=\"position:relative;\"><a href=\"#2-%EB%B0%98%ED%99%98-%ED%83%80%EC%9E%85%EA%B3%BC-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0-%EB%B0%94%EC%9D%B8%EB%94%A9\" aria-label=\"2 반환 타입과 파라미터 바인딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 반환 타입과 파라미터 바인딩</h4>\n<h5 id=\"1-typedquery속성\" style=\"position:relative;\"><a href=\"#1-typedquery%EC%86%8D%EC%84%B1\" aria-label=\"1 typedquery속성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) TypedQuery&#x3C;속성></h5>\n<ul>\n<li>반환 타입이 명확할 때 사용. ex) String인 경우 - TypedQuery<String> member…</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// 반환 타입이 Member 객체로 명확한 경우 - 01</span>\r\n<span class=\"token class-name\">TypedQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> query <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> resultList <span class=\"token operator\">=</span> query<span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\r\n<span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span> member1 <span class=\"token operator\">:</span> resultList<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n    <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>member1<span class=\"token punctuation\">.</span><span class=\"token function\">getUsername</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n\r\n<span class=\"token comment\">// 반환 타입이 String으로 명확한 경우 - 02</span>\r\n<span class=\"token class-name\">TypedQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> singlequery <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m.username from Member m where m.username = 'kim'\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">String</span> singleResult <span class=\"token operator\">=</span> singlequery<span class=\"token punctuation\">.</span><span class=\"token function\">getSingleResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"singleResult = \"</span> <span class=\"token operator\">+</span> singleResult<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n</code></pre></div>\n<hr>\n<h5 id=\"2-query\" style=\"position:relative;\"><a href=\"#2-query\" aria-label=\"2 query permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) Query</h5>\n<ul>\n<li>반환 타입이 불명확할 때 사용.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// 반환 타입이 여러 기본 타입으로 불명확한 경우 - String(username)과 int(age)가 같이 반환되는 경우.</span>\r\n<span class=\"token class-name\">Query</span> query3 <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m.username, m.age from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<h5 id=\"3-결과-조회-api\" style=\"position:relative;\"><a href=\"#3-%EA%B2%B0%EA%B3%BC-%EC%A1%B0%ED%9A%8C-api\" aria-label=\"3 결과 조회 api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) 결과 조회 API</h5>\n<ol>\n<li>\n<p>getResultList() - 결과가 하나 이상일 때, 리스트 반환  /  없으면 빈 리스트 반환.</p>\n</li>\n<li>\n<p>getSingleResult() - 결과가 <strong>정확히 하나</strong> or <strong>단일 객체</strong></p>\n<ul>\n<li>없으면 NoResultException 발생  /  둘 이상인 경우 NonUniqueResultException 발생</li>\n</ul>\n</li>\n</ol>\n<ul>\n<li>Spring Data JPA에서 별도의 방법으로 Exception 안 발생하게 하는 방법이 있다. ( 추후 공부 )</li>\n</ul>\n<hr>\n<h5 id=\"4-파라미터-바인딩\" style=\"position:relative;\"><a href=\"#4-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0-%EB%B0%94%EC%9D%B8%EB%94%A9\" aria-label=\"4 파라미터 바인딩 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(4) 파라미터 바인딩</h5>\n<ol>\n<li>이름 기준 ( :변수 사용)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token class-name\">TypedQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> singlequery <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m.username from Member m where m.username = :username\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nsinglequery<span class=\"token punctuation\">.</span><span class=\"token function\">setParameter</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"username\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"member1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nsinglequery<span class=\"token punctuation\">.</span><span class=\"token function\">getSingleResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"2\">\n<li>위치 기준 ( ?숫자 사용)</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// 위치 기준이라는 것을 명확하게 하고자, where절의 변수 위치 표기를 바꿈</span>\r\n<span class=\"token class-name\">TypedQuery</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">></span></span> singlequery2 <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"select m.username from Member m where m.username = ?2 and m.age = ?1\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nsinglequery2<span class=\"token punctuation\">.</span><span class=\"token function\">setParameter</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nsinglequery2<span class=\"token punctuation\">.</span><span class=\"token function\">setParameter</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"member%\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nsinglequery2<span class=\"token punctuation\">.</span><span class=\"token function\">getSingleResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><strong>실무 추천 - 위치 기준은 되도록 쓰지 않도록..!</strong></li>\n</ul>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#jpql\">JPQL</a></p>\n<ul>\n<li>\n<p><a href=\"#1-jpa%EC%97%90%EC%84%9C-sql%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%88%98-%EC%9E%88%EB%8A%94-%EB%B0%A9%EB%B2%95\">1. JPA에서 SQL을 사용할 수 있는 방법</a></p>\n</li>\n<li>\n<p><a href=\"#2-jpql\">2. JPQL</a></p>\n<ul>\n<li>\n<p><a href=\"#1-%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9-%EC%98%88%EC%8B%9C\">1) 기본 사용 예시</a></p>\n</li>\n<li>\n<p><a href=\"#2-%EB%B0%98%ED%99%98-%ED%83%80%EC%9E%85%EA%B3%BC-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0-%EB%B0%94%EC%9D%B8%EB%94%A9\">2) 반환 타입과 파라미터 바인딩</a></p>\n<ul>\n<li><a href=\"#1-typedquery%EC%86%8D%EC%84%B1\">(1) TypedQuery&#x3C;속성></a></li>\n<li><a href=\"#2-query\">(2) Query</a></li>\n<li><a href=\"#3-%EA%B2%B0%EA%B3%BC-%EC%A1%B0%ED%9A%8C-api\">(3) 결과 조회 API</a></li>\n<li><a href=\"#4-%ED%8C%8C%EB%9D%BC%EB%AF%B8%ED%84%B0-%EB%B0%94%EC%9D%B8%EB%94%A9\">(4) 파라미터 바인딩</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"January 16, 2022","title":"JPA 기본 강의 정리 - 09. JPQL 정리_01","categories":"JPA_Basic","author":"shim8934","emoji":"😄"},"fields":{"slug":"/JPA_Basic09/"}},"prev":{"id":"b0d513fb-64a9-5ca9-9589-78466c317c83","html":"<h3 id=\"til-01-깨끗한-코드\" style=\"position:relative;\"><a href=\"#til-01-%EA%B9%A8%EB%81%97%ED%95%9C-%EC%BD%94%EB%93%9C\" aria-label=\"til 01 깨끗한 코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>TIL 01. 깨끗한 코드</h3>\n<h4 id=\"오늘-til-3줄-요약\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%8A%98-til-3%EC%A4%84-%EC%9A%94%EC%95%BD\" aria-label=\"오늘 til 3줄 요약 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>오늘 TIL 3줄 요약</strong></h4>\n<ul>\n<li>좋은 코드는 좋은 소설처럼 읽기 좋다.</li>\n<li>깨끗한 코드는 한 가지에 집중, 충실한 코드다.</li>\n<li>연습이 중요하다.</li>\n</ul>\n<br/>\n<h4 id=\"til-today-i-learned-날짜\" style=\"position:relative;\"><a href=\"#til-today-i-learned-%EB%82%A0%EC%A7%9C\" aria-label=\"til today i learned 날짜 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>TIL (Today I Learned) 날짜</strong></h4>\n<p>2022.04.23\r\n<br/><br/></p>\n<h4 id=\"오늘-읽은-범위\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%8A%98-%EC%9D%BD%EC%9D%80-%EB%B2%94%EC%9C%84\" aria-label=\"오늘 읽은 범위 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>오늘 읽은 범위</strong></h4>\n<p>1장. 깨끗한 코드\r\n<br/></p>\n<h4 id=\"책에서-기억하고-싶은-내용을-써보세요\" style=\"position:relative;\"><a href=\"#%EC%B1%85%EC%97%90%EC%84%9C-%EA%B8%B0%EC%96%B5%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%8D%A8%EB%B3%B4%EC%84%B8%EC%9A%94\" aria-label=\"책에서 기억하고 싶은 내용을 써보세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>책에서 기억하고 싶은 내용을 써보세요.</strong></h4>\n<ul>\n<li>깨끗한 코드는 한 가지에 ‘집중’한다.</li>\n<li>깨끗한 코드란 다른 사람이 고치기 쉽다.</li>\n<li>코드를 읽는 시간 대 코드를 짜는 시간 비율이 10 대 1을 넘는다.</li>\n<li>이 책은 좋은 코드를 짜기 위한 다양한 경험적 교훈과 체계와 절차와 기법, 그리고 예제를 무수히 많이 보여주지만, 결론적으로 <strong>읽는 독자의 연습</strong>에 달렸다.</li>\n</ul>\n<br/>\n<h4 id=\"오늘-읽은-소감은-떠오르는-생각을-가볍게-적어보세요\" style=\"position:relative;\"><a href=\"#%EC%98%A4%EB%8A%98-%EC%9D%BD%EC%9D%80-%EC%86%8C%EA%B0%90%EC%9D%80-%EB%96%A0%EC%98%A4%EB%A5%B4%EB%8A%94-%EC%83%9D%EA%B0%81%EC%9D%84-%EA%B0%80%EB%B3%8D%EA%B2%8C-%EC%A0%81%EC%96%B4%EB%B3%B4%EC%84%B8%EC%9A%94\" aria-label=\"오늘 읽은 소감은 떠오르는 생각을 가볍게 적어보세요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요</strong></h4>\n<ul>\n<li>급하고, 서둘러 끝내려면, 쉽게 짜려면, 읽기 쉽게 만들면 된다.</li>\n<li>좋은 코드를 위해선 연습이 필요하다.</li>\n</ul>\n<br/>\n<hr>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#til-01-%EA%B9%A8%EB%81%97%ED%95%9C-%EC%BD%94%EB%93%9C\">TIL 01. 깨끗한 코드</a></p>\n<ul>\n<li><a href=\"#%EC%98%A4%EB%8A%98-til-3%EC%A4%84-%EC%9A%94%EC%95%BD\"><strong>오늘 TIL 3줄 요약</strong></a></li>\n<li><a href=\"#til-today-i-learned-%EB%82%A0%EC%A7%9C\"><strong>TIL (Today I Learned) 날짜</strong></a></li>\n<li><a href=\"#%EC%98%A4%EB%8A%98-%EC%9D%BD%EC%9D%80-%EB%B2%94%EC%9C%84\"><strong>오늘 읽은 범위</strong></a></li>\n<li><a href=\"#%EC%B1%85%EC%97%90%EC%84%9C-%EA%B8%B0%EC%96%B5%ED%95%98%EA%B3%A0-%EC%8B%B6%EC%9D%80-%EB%82%B4%EC%9A%A9%EC%9D%84-%EC%8D%A8%EB%B3%B4%EC%84%B8%EC%9A%94\"><strong>책에서 기억하고 싶은 내용을 써보세요.</strong></a></li>\n<li><a href=\"#%EC%98%A4%EB%8A%98-%EC%9D%BD%EC%9D%80-%EC%86%8C%EA%B0%90%EC%9D%80-%EB%96%A0%EC%98%A4%EB%A5%B4%EB%8A%94-%EC%83%9D%EA%B0%81%EC%9D%84-%EA%B0%80%EB%B3%8D%EA%B2%8C-%EC%A0%81%EC%96%B4%EB%B3%B4%EC%84%B8%EC%9A%94\"><strong>오늘 읽은 소감은? 떠오르는 생각을 가볍게 적어보세요</strong></a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"April 24, 2022","title":"Clean Code - TIL 01. 깨끗한 코드","categories":"CleanCode","author":"shim8934","emoji":"😄"},"fields":{"slug":"/Clean_Code_Nomad/"}},"site":{"siteMetadata":{"siteUrl":"https://shim8934.github.io","comments":{"utterances":{"repo":"Shim8934/shim8934.github.io"}}}}},"pageContext":{"slug":"/JPA_Basic10/","nextSlug":"/JPA_Basic09/","prevSlug":"/Clean_Code_Nomad/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}