---
emoji: π„
title: TIL 08. μ„λ²„ λ„¤νΈμ›ν¬ κΈ°λ³Έ
date: '2022-08-01 11:52:00'
author: shim8934
tags: #ITμ—”μ§€λ‹μ–΄λ¥Όμ„ν•λ„¤νΈμ›ν¬μ…λ¬Έ #8μ¥.μ„λ²„μλ„¤νΈμ›ν¬μ„¤μ •λ°ν™•μΈ
categories: IT_μ—”μ§€λ‹μ–΄λ¥Ό_μ„ν•_λ„¤νΈμ›ν¬_μ…λ¬Έ
---
## TIL 08. μ„λ²„ λ„¤νΈμ›ν¬ κΈ°λ³Έ

> μ΄λ² μ¥μ—μ„λ” μ„λ²„ λ‚΄λ¶€μ μ„¤μ • μ¤‘ μλ„μ™€ λ¦¬λ…μ¤ μ„λ²„μ—μ„ λ„¤νΈμ›ν¬λ¥Ό κ°κ° μ–΄λ–»κ² μ„¤μ •ν•κ³  ν„μ¬ λ„¤νΈμ›ν¬ μƒνƒλ¥Ό μ–΄λ–»κ² ν™•μΈν•  μ μλ”μ§€κ°€ μ£Όκ΄€μ μ΄λ‹¤.
>

<br/>

---

### 1. μ„λ²„μ λ„¤νΈμ›ν¬ μ„¤μ • λ° ν™•μΈ (OS λ³„λ΅ μ •λ¦¬)

#### 1) λ¦¬λ…μ¤ μ„λ²„ λ„¤νΈμ›ν¬

##### (1) CentOSμ λ„¤νΈμ›ν¬ μ„¤μ •

* CentOSμ λ„¤νΈμ›ν¬ μ„¤μ • νμΌμ€ λ‹¤μ κ²½λ΅μ— μ΅΄μ¬ν•λ‹¤.

  ```shell
  /etc/sysconfig/network-scripts
  ```

  <img src=".\CentOS_network-scripts.png" alt="CentOS_network-scripts" style="zoom: 67%;" />

<br/>

* λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ λ³„λ΅ μ„¤μ • κ°€λ¥ν• μ‚¬ν•­μ΄ νμΌμ— κΈ°λ΅λμ–΄ μμΌλ©°, μ£Όμ” ν•­λ©μ€ λ‹¤μκ³Ό κ°™λ‹¤. μ£Όμ” ν•­λ© μ΄μ™Έμ—λ„ μ„¤μ •ν•  μ μλ” λ‹¤μ–‘ν• ν•­λ©λ“¤μ΄ μ΅΄μ¬ν•λ‹¤.

<table style="width:80%;">
    <tr style="text-align:center;">
        <td colspan="2">CentOSμ μΈν„°νμ΄μ¤ μ„¤μ • μ‹ μ£Όμ” ν•­λ©</td>
    </tr>
    <tr style="text-align:left;">
        <td>ONBOOT</td>
        <td>λ¶€ν… μ‹ μΈν„°νμ΄μ¤λ¥Ό ν™μ„±ν™”μ‹ν‚¬ κ²ƒμΈμ§€ κ²°μ •(yes / no)</td>
    </tr>
    <tr style="text-align:left;">
        <td>BOOTPROTO</td>
        <td>λ¶€ν… μ‹ μ‚¬μ©ν•  ν”„λ΅ν† μ½ (none, dhcp, static)</td>
    </tr>
    <tr style="text-align:left;">
        <td>IPADDR</td>
        <td>IP μ£Όμ†</td>
    </tr>
    <tr style="text-align:left;">
        <td>NETMASK</td>
        <td>μ„λΈλ„· λ§μ¤ν¬ <br/> μ) 255.255.255.0</td>
    </tr>
    <tr style="text-align:left;">
        <td>PREFIX</td>
        <td>μ„λΈλ„· λ§μ¤ν¬(λΉ„νΈ κ°’μΌλ΅ ν‘κΈ°) <br/> μ) 24</td>
    </tr>
    <tr style="text-align:left;">
        <td>GATEWAY</td>
        <td>κ²μ΄νΈμ›¨μ΄ μ£Όμ†</td>
    </tr>
    <tr style="text-align:left;">
        <td>DNS1</td>
        <td>μ£Ό DNS μ •λ³΄ μ…λ ¥</td>        
    </tr>
    <tr style="text-align:left;">
        <td>DNS2</td>
        <td>λ³΄μ΅° DNS</td>
    </tr>
</table>

<img src=".\CentOS_NIC.png" alt="CentOS_NIC" style="zoom:67%;" />

<br/>

* CentOSλΏλ§μ΄ μ•„λ‹ λ€λ¶€λ¶„μ Linux κ³„μ—΄ OSμ—μ„λ” μΈν„°νμ΄μ¤ μ„¤μ • νμΌμ„ μμ •ν•λ”λΌλ„ λ³€κ²½ν• κ°’μ΄ μ¦‰μ‹ μ μ©λμ§€ μ•λ”λ‹¤. λ³€κ²½λ μ„¤μ •κ°’μ„ μ μ©ν•λ ¤λ©΄ λ‹¤μ λ‘ κ°€μ§€ λ°©λ²• μ¤‘ ν•λ‚λ¥Ό μν–‰ν•΄μ•Ό ν•λ‹¤.

  1. λ„¤νΈμ›ν¬ μ„λΉ„μ¤ μ¬μ‹μ‘

     ```shell
     systemctl restart network.service
     ```

     <br/>

  2. νΉμ • μΈν„°νμ΄μ¤ μ¬μ‹μ‘(ifup)κ³Ό λ‹¤μ΄(ifdown)

     ```shell
     ifup ifcfg-eht0
     ifdown ifcfg-eth0
     ```

<br/>

###### * ifconfig (Linux) & ipconfig (Window)

* Linuxμ—μ„  ifconfig, Windowμ—μ„λ” `ipconfig`λ΅ κ°κ° λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤μ μ„¤μ •κ°’κ³Ό μƒνƒλ¥Ό ν™•μΈν•  μ μλ‹¤. λ‹¤λ§ μ°¨μ΄μ μ€ Linuxμ ifconfigμ—μ„  ν™μ„±ν™”λ μΈν„°νμ΄μ¤ μ •λ³΄λ§ ν™•μΈν•  μ μλ‹¤λ” μ μ΄λ‹¤. Linuxμ—μ„  μ„ 1-1)μ—μ„ λ‹¤λ£¬ μΈν„°νμ΄μ¤ λ‹¤μ΄μΌλ΅ λΉ„ν™μ„±ν™” μ‹μΌλ‘” μΈν„°νμ΄μ¤λ” `ifconfig`λ¥Ό ν†µν•΄ λ“λ¬λ‚μ§€ μ•λ”λ‹¤. Windowμ—μ„  λΉ„ν™μ„±ν™”λ μΈν„°νμ΄μ¤κΉμ§€ ν¬ν•¨ν•΄ λ¨λ“  μΈν„°νμ΄μ¤ μ •λ³΄κ°€ λ³΄μ—¬μ§€κ² λλ‹¤.	![ifdownν›„μ ifconfig μ°¨μ΄μ ](.\CentOS_ifconfig.png)

β€‹	μ„μ μμ‹λ” ifcfg-enp0s8 μΈν„°νμ΄μ¤λ¥Ό λ‹¤μ΄μ‹ν‚¨ ν›„, `ifconfig`λ¥Ό ν†µν• μ •λ³΄ ν™•μΈ κ³Όμ •μ΄λ‹¤. κΈ°μ΅΄μ— μ¶λ ¥ν•λ `ip μ£Όμ†`, `netmask` λ“±μ μ •λ³΄κ°€ ν‘κΈ°λμ§€ μ•λ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

<br/>

##### (2) μ°λ¶„ν¬ μ„λ²„ λ„¤νΈμ›ν¬

* μ°λ¶„ν¬ λ„¤νΈμ›ν¬ μ„¤μ • νμΌμ€ λ‹¤μ κ²½λ΅μ— μ΅΄μ¬ν•λ‹¤.

  ```shell
  /etc/network/interfaces
  ```

* CentOSμ™€μ μ°¨μ΄μ μ€ CentOSμ—μ„λ” λ„¤νΈμ›ν¬ μΈν„°νμ΄μ¤ λ³„λ΅ κ΄€λ ¨ νμΌκ³Ό λ””λ ‰ν„°λ¦¬κ°€ μ΅΄μ¬ν•μ§€λ§, μ°λ¶„ν¬λ” interfaces μ„¤μ • νμΌμ— λ„¤νΈμ›ν¬μ λ¨λ“  μΈν„°νμ΄μ¤ μ„¤μ •μ΄ λ“¤μ–΄κ°„λ‹¤λ” μ μ΄λ‹¤.

* κ° μ„¤μ •μ— ν•„μ”ν• μ†μ„± κ°’μ€ κ±°μ CentOSμ™€ λΉ„μ·ν•κ³  μ΄λ¦„λ§ μ΅°κΈ λ‹¤λ¥΄λ‹¤λ” νΉμ§•μ΄ μλ‹¤. λ„¤νΈμ›ν¬ μ‹μ‘ / μ •μ§€ / μ¬μ‹μ‘μ„ μ„ν• λ…λ Ήμ–΄μ μ°¨μ΄κ°€ μλ‹¤.

  ```shell
  /etc/init.d/networking start
  /etc/init.d/networking stop
  /etc/init.d/networking reload
  /etc/init.d/networking restart
  /etc/init.d/networking force-reload
  ```

<br/>

#### 2) μλ„μ° μ„λ²„ λ„¤νΈμ›ν¬

* μλ„μ°μ—μ„μ λ„¤νΈμ›ν¬ μ„¤μ •μ€ μ—¬λ¬ κ°€μ§€ λ°©λ²•μΌλ΅ ν•  μ μλ‹¤.

  1-1) λ„¤νΈμ›ν¬ μ—°κ²° λ©”λ‰΄ μ‚¬μ©

  1. `μ μ–΄ν` β†’ `λ„¤νΈμ›ν¬ λ° μΈν„°λ„·` β†’ `λ„¤νΈμ›ν¬ μ—°κ²°` λλ” μ•„λ μ΄λ―Έμ§€μ™€ κ°™μ΄ `ncpa.cpl`μ„ μ‹¤ν–‰ν•΄ λ°”λ΅ **λ„¤νΈμ›ν¬ μ—°κ²°**λ΅ μ΄λ™ν•λ” λ°©λ²•λ„ μλ‹¤.

  ![ncpacpl](.\Window_ncpacpl.png)

  2. **λ„¤νΈμ›ν¬ μ—°κ²°** λ©”λ‰΄μ—μ„ νΉμ • λ„¤νΈμ›ν¬ μ–΄λ‘ν„°λ¥Ό μ„¤μ •ν•λ ¤λ©΄ μ°ν΄λ¦­ν•΄ **μ†μ„±**μ— λ“¤μ–΄κ°„λ‹¤.
     κ·Έλ¦¬κ³  μ—¬λ¬ κ°€μ§€ μ„λΉ„μ¤ μ¤‘ Internet Protocol Version 4(TCP/IPv4) μ†μ„±μ„ μ„ νƒν•λ©΄ ν•΄λ‹Ή μ–΄λ‘ν„°μ—μ„ μ‚¬μ©ν•  `IP μ£Όμ†`, `μ„λΈλ„·`, `κ²μ΄νΈμ›¨μ΄`, `DNS μ •λ³΄`λ¥Ό μ„¤μ •ν•  μ μλ‹¤.
     λ³΄ν†µμ κ°€μ •μ§‘μ—μ„λ” μλ™μΌλ΅ μ„¤μ •ν•΄ μ‚¬μ©ν•λ” κ²½μ°κ°€ λ€λ¶€λ¶„μ΄λ‹¤.

     ![μ†μ„±μ°½](.\Window_NetworkSetting.png)

  <br/>

  1-2) netsh λ…λ Ήμ–΄ μ‚¬μ©

  1. Linuxμ—μ„μ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν• λ„¤νΈμ›ν¬ μ„¤μ •κ³Ό μ μ‚¬ν•κ² `netsh`λΌλ” λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.

     ```powershell
     netsh interface ipv4 set address name="μΈν„°νμ΄μ¤λ…" static IP μ£Όμ† μ„λΈλ„· κ²μ΄νΈμ›¨μ΄
     ```

  <br/>

   λ¦¬λ…μ¤μ™€ λ‹¬λ¦¬ μλ„μ°λ” μ„¤μ • μ™„λ£ ν›„ 'ν™•μΈ' λ²„νΌλ§ ν΄λ¦­ν•λ©΄ λ³€κ²½ν• μ„¤μ •μ΄ μ μ©λλ‹¤. Linux κ³„μ—΄μ OSμ²λΌ λ³„λ„λ΅ λ„¤νΈμ›ν¬ μ„λΉ„μ¤λ‚ μΈν„°νμ΄μ¤λ¥Ό μ¬μ‹μ‘ν•μ§€ μ•μ•„λ„ λμ§€λ§, κ°„νΉ μ •μƒμ μΌλ΅ λ™μ‘ν•μ§€ μ•μ•„ μ¬μ‹μ‘ν•΄μ•Όν•λ” κ²½μ°μ—λ” μ¬μ‹μ‘ν•  μ–΄λ‘ν„°λ¥Ό `μ‚¬μ© μ• ν•¨` β†’ `μ‚¬μ©` μ„ ν†µν•΄ μ¬μ‹μ‘ν•λ©΄ λλ‹¤.

  β€‹	![μλ„μ° λ„¤νΈμ›ν¬ μ¬μ‹μ‘](.\Window_networkrestart.png)

   μ•„λ‹λ©΄ netst λ…λ ΉμΌλ΅λ„ μ–΄λ‘ν„°λ¥Ό λ¦¬μ…‹ κ°€λ¥ν•λ‹¤.

  ```powershell
  netsh interface set interface name="μΈν„°νμ΄μ¤λ…" admin=disabled   #(λΉ„ν™μ„±ν™”)
  netsh interface set interface name="μΈν„°νμ΄μ¤λ…" admin=enabled    #(ν™μ„±ν™”)
  ```

<br/>

---

### 2. μ„λ²„μ λΌμ°ν… ν…μ΄λΈ”

> μ΄λ² λ‹¨μ›μ—μ„λ” μ„λ²„μ λΌμ°ν… λ™μ‘μ„ μ΄ν•΄ν•κΈ° μ„ν• λΌμ°ν… ν…μ΄λΈ” ν™•μΈ λ°©λ²•μ— μ΄μ μ„ λ‘”λ‹¤.
>
> μ΄λ²μ— μ‚΄ν΄λ³Ό ν•­λ©λ“¤μ€ μ•„λμ™€ κ°™λ‹¤.
>
> 1. λ©μ μ§€ (Destination)
> 2. μ„λΈλ„· (Genmask)
> 3. κ²μ΄νΈμ›¨μ΄ (Gateway)
> 4. μΈν„°νμ΄μ¤ (face)
> 5. μ°μ„ μμ„ (Metric)

#### 1. λΌμ°ν… ν…μ΄λΈ” μ¶λ ¥ μ‹ μ¶λ ¥ ν•­λ©

<table>
    <tr style="text-align:center;">
        <td colspan="5">μ„λ²„ λΌμ°ν… ν…μ΄λΈ” ν•­λ©</td>
    </tr>
    <tr style="text-align:center;">
        <td>10.10.20.0</td>
        <td>24</td>
        <td>10.10.10.1</td>
        <td>eth1</td>
        <td>10</td>
    </tr>
    <tr style="text-align:center;">
        <td>λ©μ μ§€</td>
        <td>μ„λΈλ„·</td>
        <td>κ²μ΄νΈμ›¨μ΄</td>
        <td>μΈν„°νμ΄μ¤</td>
        <td>μ°μ„ μμ„</td>
    </tr>
</table>


* μ–΄λ–¤ OSμ—μ„ μ¶λ ¥μ„ ν•λ“  μ°¨μ΄μ μ€ μμ„λ§ μ°¨μ΄λ‚  λΏ, μ„μ ν•­λ©λ“¤μ΄ λ€λ¶€λ¶„ μ¶λ ¥λλ‹¤.

<table>
    <tr style="text-align:center;">
        <td colspan="2">λΌμ°ν… ν…μ΄λΈ” ν•­λ© λ¶€κ°€ μ„¤λ…</td>
    </tr>
    <tr style="text-align:left;">
        <td>1. λ©μ μ§€μ™€ μ„λΈλ„·</td>
        <td>μ„λ²„κ°€ ν†µμ‹ ν•λ ¤λ” λ©μ μ§€ IP μ£Όμ†μ— λ§λ” λΌμ°ν…μ„ μ„ νƒν•λ” κΈ°μ¤€μ .<br/> λΌμ°ν…ν•  λ• λ©μ μ§€ λ„¤νΈμ›ν¬ μ£Όμ†μ™€ μ„λΈλ„·μΌλ΅ ν‘ν„λλ” λ©μ μ§€ λ„¤νΈμ›ν¬ λ²”μ„ λ‚΄μ— μ„λ²„κ°€ ν†µμ‹ ν•λ ¤λ” IP μ£Όμ†κ°€ μ†ν• λΌμ°ν… ν…μ΄λΈ”μ„ μ„ νƒν•κ² λλ‹¤.</td>
    </tr>
    <tr style="text-align:left;">
        <td>2. κ²μ΄νΈμ›¨μ΄</td>
        <td>μ„ νƒλ λ©μ μ§€λ΅ κ°€κΈ° μ„ν•΄ μ„λ²„μ—μ„ μ„ νƒν•λ” λ„¥μ¤νΈ ν™‰.<br/> λ§μ•½ μ„λ²„μ— λ‘ κ° μ΄μƒμ λ„¤νΈμ›ν¬ μΉ΄λ“(NIC)κ°€ μ΅΄μ¬ν•λ‹¤λ©΄ μ›ν•λ” λ„¤νΈμ›ν¬ μΉ΄λ“μ κ²μ΄νΈμ›¨μ΄λ΅ μ§€μ •ν•΄ μ£Όμ–΄μ•Ό ν•λ‹¤.</td>
    </tr>
    <tr style="text-align:left;">
        <td>3. μΈν„°νμ΄μ¤</td>
        <td>μ„λ²„μ λ„¤νΈμ›ν¬ μΉ΄λ“λ¥Ό μλ―Έν•λ©°, λΌμ°ν…μ—μ„ μ–΄λ–¤ λ¬Όλ¦¬μ μΈ κ²½λ΅λ΅ ν¨ν‚·μ„ λ‚΄λ³΄λ‚Όμ§€ μ„¤μ •ν•λ‹¤.</td>
    </tr>
    <tr style="text-align:left;">
        <td>4. μ°μ„ μμ„</td>
        <td>λ™μΌν• λΌμ°ν… ν…μ΄λΈ”μ΄ λ‘ κ° μ΄μƒ μ΅΄μ¬ν•  λ• μ–΄λ–¤ λΌμ°ν… ν…μ΄λΈ”μ„ μ„ νƒν• μ§€ μ •ν•λ” κ°’μ΄λ‹¤. μ΄ κ°’μ΄ λ‚®μ„ μλ΅ μ°μ„ μμ„κ°€ λ†’μ•„μ§„λ‹¤.</td>
    </tr>
</table>

<br/>

#### 2. λ¦¬λ…μ¤ μ„λ²„μ λΌμ°ν… ν™•μΈ λ° κ΄€λ¦¬

##### 1. λΌμ°ν… ν…μ΄λΈ” ν™•μΈ

1. ip route

   * ip route λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν• κ²°κ΄κ°’μ€ λ‹¤μκ³Ό κ°™λ‹¤.

   ![image-20220804094620919](.\CentOS_iproute.png)

β€‹	<br/>

 2. netstat -r

    * netstatμ„ μ‚¬μ©ν•΄ ν™•μΈν•  λ• r μµμ…μ„ μ¶”κ°€ν•λ©΄ λΌμ°ν… ν…μ΄λΈ”μ„ νΈν•κ² ν™•μΈν•  μ μλ‹¤.

    ![netstat -r](.\CentOS_netstat_r.png)

    * n μµμ…μ„ μ¶”κ°€λ΅ μ‚¬μ©ν•λ©΄ ν™”λ©΄μ— ν‘κΈ°λ  λ•, μ‹¤μ  IP μ •λ³΄κ°€ ν‘κΈ°λμ–΄ μΆ€ λ” μ§κ΄€μ μΈ λΌμ°ν… ν…μ΄λΈ”μ„ ν™•μΈν•  μ μλ‹¤.

    ![netstat -rn](.\CentOS_netstat_rn.png)

<br/>

##### 2. λΌμ°ν… ν…μ΄λΈ” μ¶”κ°€ν•λ” μ„¤μ •

1. μ„μ‹μ  λΌμ°ν… ν…μ΄λΈ” μ¶”κ°€

   1. route add / del (μ¶”κ°€ / μ‚­μ )

      ```shell
      route add { -host | -net } Target[/prefix] [gw GW] [metric M] [[dev] If]   # μ¶”κ°€
      route del { -host | -net } Target[/prefix] [gw GW] [metric M] [[dev] If]   # μ‚­μ 
      ```

   2. μ΄ λ…λ Ήμ–΄ λΏλ§ μ•„λ‹λΌ `ip route` μµμ… λ’¤μ— `add` μµμ…μ„ μ‚¬μ©ν•λ” κ²ƒλ„ λ™μΌν•κ² μ¶”κ°€ν•  μ μλ‹¤.

   3. λ””ν΄νΈ λΌμ°ν… μ„¤μ • - μΌλ° λΌμ°ν… μ„¤μ •κ³Ό λ™μΌν•μ§€λ§ λ©μ μ§€ λ„¤νΈμ›ν¬λ¥Ό `default`λ΅ ν‘κΈ°ν•΄ μ„¤μ •ν•  μ μλ‹¤.

      ```shell
      route add default gw 10.1.1.1 dev eth0   # μ¶”κ°€
      route del default gw 10.1.1.1 dev eth0   # μ¶”κ°€
      ```

   * μ„μ λ…λ Ήμ–΄λ΅ μ¶”κ°€ν• λΌμ°ν… μ„¤μ •μ€ μ„λ²„κ°€ μ¬λ¶€ν…λ  μ‹ μ‚¬λΌμ§„λ‹¤. μ¦‰, μ¬λ¶€ν… μ‹ μ΄κΈ° λΌμ°ν… μ„¤μ •λ§ λ‚¨μ•„μκ² λλ” νΉμ§•μ΄ μλ‹¤.

<br/>

2. μκµ¬μ  λΌμ°ν… μ„¤μ •

###### 1) Cent OSμ μκµ¬μ  λΌμ°ν… μ„¤μ •

* CentOSμ—μ„  λ‹¤μκ³Ό κ°™μ΄ λ³„λ„ νμΌμ„ λ§λ“¤μ–΄ λΌμ°ν…μ„ μ„¤μ •ν•λ‹¤.

  ```shell
  /etc/sysconfig/network-scripts/route-μ¥μΉλ…
  ```

* μλ¥Ό λ“¤μ–΄ `et0` μΈν„°νμ΄μ¤μ— λ€ν• μκµ¬μ μΈ λΌμ°ν… μ„¤μ • νμΌλ…μ€ `route-eht0`μ΄λ‹¤.

* λΌμ°ν… μ„¤μ • νμΌμ—λ” `ADDRESS`, `NETMASK`, `GATEWAY` ν•­λ©μ„ μ‚¬μ©ν•λ‹¤.

  ```shell
  ADDRESS0=10.10.10.0
  NETMASK0=255.255.255.0
  GATEWAY0=10.1.1.1
  ADDRESS1=10.10.20.0
  NETMASK1=255.255.255.128
  GATEWAY1=10.1.1.1
  
  # λλ” μ•„λμ™€ κ°™μ΄ μ„¤μ •
  10.10.10.0/24 via 192.168.0.1 dev eth1
  ```

<br/>

###### 2)  μ°λ¶„ν¬μ μκµ¬μ  λΌμ°ν… μ„¤μ •

* μ°λ¶„ν¬μ—μ„λ” λ„¤νΈμ›ν¬ μ„¤μ •μ—μ„ μ‚¬μ©ν–λ `interfaces` νμΌμ— λΌμ°ν… μ„¤μ •μ„ ν•λ‹¤. μΌλ° λΌμ°ν… ν…μ΄λΈ” μ„¤μ •κ³Ό λ™μΌν• μ–‘μ‹μΌλ΅ ν•λ‹¤.

  ```shell
  up route add [-net|-host] <host/net>/<mask> gw <host/IP> dev <Interface>
  ```

  * μ„ λ…λ Ήμ–΄ λ§¨ μ•μ `up`μ€ μΈν„°νμ΄μ¤κ°€ μ‹μ‘λ  λ• μ‹¤ν–‰ν•λΌλ” λ…λ Ήμ–΄λ΅, CentOSμ™€ λ§μ°¬κ°€μ§€λ΅ λ„¤νΈμ›ν¬λ¥Ό λ‹¤μ‹ μ‹μ‘ν•κ±°λ‚ μ„λ²„λ¥Ό μ¬λ¶€ν…ν•λ” κ²½μ°, μ‹ κ· λΌμ°ν… μ •λ³΄κ°€ λΌμ°ν… ν…μ΄λΈ”μ— λ“±λ΅λλ‹¤.

<br/>

###### 3) μλ„μ° μ„λ²„μ λΌμ°ν… μ„¤μ •

* μλ„μ°μ—μ„λ” λΌμ°ν… ν…μ΄λΈ”μ„ ν™•μΈν•κ³  κ΄€λ¦¬ν•κΈ° μ„ν•΄ `route`λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•λ‹¤. 4κ°€μ§€ μµμ…μ΄ μ΅΄μ¬ν•λ‹¤.
  1. PRINT
  2. ADD
  3. DELETE
  4. CHANGE

<br/>

1. PRINT

   * μµμ… μ—†μ΄ `route print`λ¥Ό μ…λ ¥ν•  κ²½μ°, λ¨λ“  μΈν„°νμ΄μ¤ λ©λ΅μ„ ν™•μΈν•  μ μλ‹¤.

   ![route print](.\Window_routeprint.png)

   <br/>

   * ν•„μ”ν• λΌμ°ν… μ •λ³΄λ§ ν™•μΈν•κΈ° μ„ν•΄ νΉμ • λ©μ μ§€ λ„¤νΈμ›ν¬λ¥Ό μΈμκ°’μΌλ΅ μ§μ ‘ μ§€μ •ν•κ±°λ‚ `*`μ™€ `?`λ¥Ό μ΄μ©ν•΄ νΉμ • ν¨ν„΄μ— λ§λ” λ„¤νΈμ›ν¬ λ€μ—­μ„ ν™•μΈν•  μ μλ‹¤.

     ```powershell
     route print 10.10.*		# 10.10.0.0/16 μ— λ€ν• μ „μ²΄ λΌμ°ν… ν…μ΄λΈ” ν™•μΈ
     route print 10.10.1?.0	# 10.10.10.0/24 ~ 10.10.19.0/24 μ— λ€ν• λΌμ°ν… ν…μ΄λΈ” ν™•μΈ
     ```

   <br/>

2. ADD

   * λΌμ°ν… ν…μ΄λΈ”μ„ μ¶”κ°€ν•λ” λ…λ Ήμ–΄λ‹¤. λ‹¤λ§, λ¦¬λ…μ¤μ²λΌ **λ…λ ΉμΌλ΅ μ…λ ¥ν•΄ μƒμ„±ν• λΌμ°ν… ν…μ΄λΈ”**μ€ **μ„λ²„κ°€ μ¬λ¶€ν…λ μ΄ν›„μ—λ” λΌμ°ν… ν…μ΄λΈ”μ—μ„ μ‚¬λΌμ§„λ‹¤λ” νΉμ§•**μ΄ μλ‹¤.

     ```powershell
     ROUTE [ -p ] ADD [ dest ] [ MASK netmask ] [ gateway ] [ METRIC metric ] [ IF interface ]
     ```

   * μƒμ„± μ‹, `-p` μµμ…μ„ μ¶”κ°€ν•΄ μƒμ„±ν•λ©΄ μκµ¬ κ²½λ΅λ΅ λ“±λ΅ν•  μ μλ‹¤. μ¦‰, λ¦¬λ…μ¤μ²λΌ μ„¤μ • νμΌμ„ λ³„λ„λ΅ λ§λ“¤κ±°λ‚ μ…λ ¥ν•μ§€ μ•κ³ λ„ μκµ¬ κ²½λ΅ μƒμ„±μ΄ κ°€λ¥ν•λ‹¤λ” κ²ƒμ΄λ‹¤.

   <br/>

3. DELETE

   * λΌμ°ν… ν…μ΄λΈ”μ„ μ‚­μ ν•λ” λ…λ Ήμ–΄λ‹¤. μ¶”κ°€μ™€ λ‹¬λ¦¬ `MASK` λ‚ `gateway` μ •λ³΄λ¥Ό μ…λ ¥ν•μ§€ μ•μ•„λ„ λλ‹¤.
   * λ‹¨, μ„Έλ¶€ μ •λ³΄λ¥Ό μ…λ ¥ν•μ§€ μ•κ³  μ‚­μ ν•  κ²½μ° μ μν•  μ μ΄ μ΅΄μ¬ν•λ‹¤. μ…λ ¥ν• μ •λ³΄λ§μΌλ΅ ν•΄λ‹Ήν•λ” μ •λ³΄κ°€ 2κ°€μ§€ μ΄μƒ μ΅΄μ¬ν•λ‹¤λ©΄ ν•΄λ‹Ήλ λΌμ°ν… ν…μ΄λΈ”μ΄ λ¨λ‘ μ‚­μ λλ‹¤.

   <br/>

4. CHANGE

   * λΌμ°ν… ν…μ΄λΈ”μ„ λ³€κ²½ν•λ” λ…λ Ήμ–΄λ‹¤.
   * μ‚­μ μ™€ λ§μ°¬κ°€μ§€λ΅ μ„Έλ¶€ μ •λ³΄λ¥Ό μ…λ ¥ν•μ§€ μ•κ³  λ³€κ²½ν•  λ• μ μν•  μ μ΄ μ΅΄μ¬ν•λ‹¤. μ…λ ¥ν• μ •λ³΄ κ°’μ— ν•΄λ‹Ήλλ” λΌμ°ν… ν…μ΄λΈ” μ •λ³΄κ°€ λ¨λ‘ λ³€κ²½λλ‹¤λ” μ μ΄λ‹¤.

<br/>

---

### 3. λ„¤νΈμ›ν¬ ν™•μΈμ„ μ„ν• λ…λ Ήμ–΄

#### 1) ping (Packet InterNet Groper)

* λ„¤νΈμ›ν¬ μƒνƒλ¥Ό ν™•μΈν•  λ• μ‚¬μ©ν•λ” λ…λ Ήμ–΄λ‹¤.
* `ICMP (Internet Control Message Protocol)` ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•κ³  ICMPμ μ μ–΄ λ©”μ‹μ§€λ¥Ό ν†µν•΄ μ—¬λ¬ κ°€μ§€ λ„¤νΈμ›ν¬ μƒνƒλ¥Ό νμ•…ν•  μ μλ‹¤.

```shell
ping [μµμ…] λ©μ μ§€_IP μ£Όμ†
```

* λ³„λ„ μµμ… μ—†μ΄ `ping`μ„ μ²΄ν¬ν•λ” λ°©λ²•μ„ ν†µμƒμ μΈ `κΈ°λ³Έ ping`μ΄λΌ ν•λ©°, μµμ…μ„ μ‚¬μ©ν•΄ `ping`μ„ μ²΄ν¬ν•λ” λ°©λ²•μ„ `ν™•μ¥ ping`μ΄λΌ ν•λ‹¤.

<br/>

##### (1) λ¦¬λ…μ¤ ping μµμ…

<table>
    <tr>
        <td style="text-align:center;" colspan="2">λ¦¬λ…μ¤ ping λ…λ Ήμ–΄ μµμ…</td>
    </tr>
    <tr style="text-align:left;">
        <td>-c<br/>count</td>
        <td>pingμ„ λ³΄λ‚΄λ” ν¨ν‚·(ECHO_REQUEST)μ„ λ‡ λ² λ³΄λ‚΄κ³  μΆ…λ£ν•  κ²ƒμΈμ§€λ¥Ό μ§€μ •</td>
    </tr>
    <tr style="text-align:left;">
        <td>-i<br/>interval</td>
        <td>ν¨ν‚·μ„ λ³΄λ‚΄λ” μ‹κ°„ κ°„κ²©. κΈ°λ³Έ μ„¤μ •κ°’μ€ 1μ΄. μνΌ μ μ €μ κ²½μ°, 0.2 μ΄ν•λ΅ μ„¤μ • κ°€λ¥</td>
    </tr>
    <tr style="text-align:left;">
        <td>-I<br/>interface</td>
        <td>ν¨ν‚·μ„ λ³΄λ‚Ό λ•, μ¶λ°μ§€ μ£Όμ†λ¥Ό μ§€μ •. μ‹¤μ  IP κ°’μ„ μ§€μ •ν•κ±°λ‚ μΈν„°νμ΄μ¤ μ΄λ¦„μ„ μ§€μ •ν•λ©΄ μ¶λ°μ§€ μ£Όμ†κ°€ λ³€κ²½λ¨. μ΄ μµμ…μ„ μ‚¬μ©ν•μ§€ μ•λ” κ²½μ°, λΌμ°ν… ν…μ΄λΈ”μ— μν•΄ λ‚κ°€λ” μΈν„°νμ΄μ¤(Outgoint-Interface)μ IP μ£Όμ†κ°€ μ¶λ°μ§€ μ£Όμ†κ°€ λ¨.</td>
    </tr>
    <tr style="text-align:left;">
        <td>-s<br/>packetsize</td>
        <td>ν¨ν‚· ν¬κΈ°λ¥Ό μ§€μ •. κΈ°λ³Έ μ„¤μ •κ°’μ€ 56λ°”μ΄νΈ(8λ°”μ΄νΈμ ICMP ν—¤λ”κ°€ μ¶”κ°€λ΅ λ¶™μ–΄ 64λ°”μ΄νΈλ¥Ό μ†΅μ‹ )</td>
    </tr>
</table>

<br/>

##### (2) μλ„μ° ping μµμ…

<table>
    <tr>
        <td style="text-align:center;" colspan="2">μλ„μ° ping λ…λ Ήμ–΄ μµμ…</td>
    </tr>
    <tr style="text-align:left;">
        <td>-n<br/>count</td>
        <td>pingμ„ λ³΄λ‚΄λ” ν¨ν‚·(ECHO_REQUEST)μ„ λ‡ λ² λ³΄λ‚΄κ³  μΆ…λ£ν•  κ²ƒμΈμ§€λ¥Ό μ§€μ •<br/>κΈ°λ³Έ μ„¤μ •μ€ 4ν μ „μ†΅</td>
    </tr>
    <tr style="text-align:left;">
        <td>-t</td>
        <td>μ¤‘μ§€ν•  λ•κΉμ§€ μ§€μ •ν• νΈμ¤νΈλ΅ pingμ„ μ§€μ†μ μΌλ΅ μ „μ†΅</td>
    </tr>
    <tr style="text-align:left;">
        <td>-S<br/>srcaddr</td>
        <td>μ‚¬μ©ν•  μ›λ³Έ IP μ£Όμ†λ΅, λ¦¬λ…μ¤μ -I μµμ…κ³Ό λ™μΌ</td>
    </tr>
    <tr style="text-align:left;">
        <td>-l<br/>size</td>
        <td>ν¨ν‚· ν¬κΈ°λ¥Ό μ§€μ •. κΈ°λ³Έ μ„¤μ •κ°’μ€ 32λ°”μ΄νΈ</td>
    </tr>
    <tr style="text-align:left;">
        <td>-r<br/>count</td>
        <td>count ν™‰μ κ²½λ΅ κΈ°λ΅(μµλ€ 9ν™‰κΉμ§€ μ„¤μ • κ°€λ¥)</td>
    </tr>
</table>

<br/>

#### 2) netstat (network statistics)

* μ„λ²„μ λ‹¤μ–‘ν• λ„¤νΈμ›ν¬ μƒνƒλ¥Ό ν™•μΈν•  λ• μ‚¬μ©ν•λ” λ…λ Ήμ–΄λ‹¤. μ£Όλ΅, ν„μ¬ μ„λ²„μ μ„λΉ„μ¤ ν¬νΈ μƒνƒλ¥Ό ν™•μΈν•λ” μ©λ„λ΅ μ‚¬μ©ν•λ‹¤. μλ„μ° κ³„μ—΄κ³Ό λ¦¬λ…μ¤ κ³„μ—΄μ—μ„μ κΈ°λ³Έμ μΈ μ‚¬μ©λ²•μ€ λ™μΌν•λ©°, μΌλ¶€ μµμ…λ§ μ°¨μ΄κ°€ μλ‹¤.
* κ°μΈμ μΌλ΅ `netstat -antp | grep LISTENING` μ„ ν†µν•΄ μƒνƒλ¥Ό ν™•μΈν•κ³ μ λ§μ΄ μ‚¬μ©ν–λ‹¤.

##### (1) λ¦¬λ…μ¤ netstat μµμ…

<table>
    <tr>
        <td style="text-align:center;" colspan="2">λ¦¬λ…μ¤ netstat λ…λ Ήμ–΄ μµμ…</td>
    </tr>
    <tr style="text-align:left;">
        <td>-a<br/>--all</td>
        <td>λ¨λ“  μ—°κ²°κ³Ό μμ‹  λ€κΈ° ν¬νΈ ν‘μ‹</td>
    </tr>
    <tr style="text-align:left;">
        <td>-n<br/>--numeric</td>
        <td>μ£Όμ†μ™€ ν¬νΈ λ²νΈλ¥Ό μ«μ ν•μ‹μΌλ΅ ν‘μ‹ (μ: http β†’ 80 )</td>
    </tr>
    <tr style="text-align:left;">
        <td>-r<br/>--route</td>
        <td>λΌμ°ν… ν…μ΄λΈ” ν‘μ‹</td>
    </tr>
    <tr style="text-align:left;">
        <td>-i<br/>--interfaces</td>
        <td>μΈν„°νμ΄μ¤λ³„ μ…μ¶λ ¥ ν¨ν‚· ν†µκ³„</td>
    </tr>
    <tr style="text-align:left;">
        <td>-s<br/>--statistics</td>
        <td>λ„¤νΈμ›ν¬μ— ν†µκ³„ λ°μ΄ν„° μ¶λ ¥</td>
    </tr>
    <tr style="text-align:left;">
        <td>-p<br/>--programs</td>
        <td>PIDμ™€ ν”„λ΅κ·Έλ¨ μ΄λ¦„ μ¶λ ¥</td>
    </tr>
    <tr style="text-align:left;">
        <td>-t<br/>--tcp</td>
        <td>TCPλ§ μ¶λ ¥ (TCP, TCPv6)</td>
    </tr>
    <tr style="text-align:left;">
        <td>-4 / -6</td>
        <td>IPv4λ‚ IPv6μ— λ€ν•΄ μ¶λ ¥</td>
    </tr>
</table>

<br/>

##### (2) μλ„μ° netstat μµμ…

<table>
    <tr>
        <td style="text-align:center;" colspan="2">μλ„μ° netstat λ…λ Ήμ–΄ μµμ…</td>
    </tr>
    <tr style="text-align:left;">
        <td>-a</td>
        <td>λ¨λ“  μ—°κ²°κ³Ό μμ‹  λ€κΈ° ν¬νΈ ν‘μ‹</td>
    </tr>
    <tr style="text-align:left;">
        <td>-n</td>
        <td>μ£Όμ†μ™€ ν¬νΈ λ²νΈλ¥Ό μ«μ ν•μ‹μΌλ΅ ν‘μ‹ (μ: http β†’ 80 )</td>
    </tr>
    <tr style="text-align:left;">
        <td>-r</td>
        <td>λΌμ°ν… ν…μ΄λΈ” ν‘μ‹</td>
    </tr>
    <tr style="text-align:left;">
        <td>-e</td>
        <td>μ΄λ”λ„· ν†µκ³„λ¥Ό ν‘μ‹. μ΄ μµμ…μ€ -s μµμ…κ³Ό ν•¨κ» μ‚¬μ© κ°€λ¥</td>
    </tr>
    <tr style="text-align:left;">
        <td>-s</td>
        <td>ν”„λ΅ν† μ½λ³„ ν†µκ³„λ¥Ό ν‘μ‹. κΈ°λ³Έμ μΌλ΅ IP, IPv6, ICMP, ICMPv6, TCP, TCPv6, UDP λ° UDPv6μ— λ€ν• ν†µκ³„λ¥Ό ν‘μ‹ν•λ‹¤.<br/>-p μµμ…μ„ μ‚¬μ©ν•΄ κΈ°λ³Έκ°’μ μΌλ¶€ μ§‘ν•©μ— λ€ν• ν†µκ³„λ§ ν‘μ‹</td>
    </tr>
    <tr style="text-align:left;">
        <td>-p<br/>--proto</td>
        <td>protoλ΅ μ§€μ •ν• ν”„λ΅ν† μ½μ μ—°κ²°μ„ ν‘μ‹.<br/>protoλ” TCP, UDP, TCPv6, UDPv6 μ¤‘ ν•λ‚λ΅, -s μµμ…κ³Ό ν•¨κ» μ‚¬μ©ν•΄ ν”„λ΅ν† μ½λ³„ ν†µκ³„λ¥Ό ν‘μ‹ν•  κ²½μ°, protoλ” IP, IPv6, ICMP, ICMPv6, TCP, TCPv6, UDP λ° UDPv6 μ¤‘ ν•λ‚λ¥Ό μ‚¬μ©</td>
    </tr>
</table>

<br/>



---


```toc

```